const canvas=document.getElementById("fractalCanvas"),ctx=canvas.getContext("2d");function resizeCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight}resizeCanvas(),window.addEventListener("resize",resizeCanvas);function drawFractal(t){const e=canvas.width,n=canvas.height,a=ctx.createImageData(e,n),i=a.data,o=t/5e3,d=150+50*Math.sin(.5*o),h=50*Math.sin(.3*o),r=50*Math.cos(.2*o);for(let t=0;t<e;t++)for(let s=0;s<n;s++){let n=0,a=0;const l=(t-e/2+h)/d,c=(s-n/2+r)/d;let f=0;for(;n*n+a*a<4&&f<100;){const t=n*n-a*a+l;a=2*n*a+c,n=t,f++}const w=(f/100*360+50*o)%360,g=f<100?50:0,u=hslToRgb(w/360,.7,g/100),m=4*(s*e+t);i[m]=u[0],i[m+1]=u[1],i[m+2]=u[2],i[m+3]=255}}ctx.putImageData(a,0,0),requestAnimationFrame(drawFractal)}function hslToRgb(t,e,n){let a,i,o;if(0===e)a=i=o=n;else{const d=t=>t<0?t+1:t>1?t-1:t<1/6?h+(r-h)*t*6:t<.5?r:t<2/3?h+(r-h)*(2/3-t)*6:h,h=n<.5?n*(1+e):n+e-n*e,r=2*n-h;a=d(t+1/3),i=d(t),o=d(t-1/3)}return[Math.round(255*a),Math.round(255*i),Math.round(255*o)]}requestAnimationFrame(drawFractal);
